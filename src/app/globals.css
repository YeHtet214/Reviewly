@import "tailwindcss";

/* -----------------------------
   Base Tokens (CSS Variables)
------------------------------*/
:root {
	/* Typography: Inter loaded via next/font (layout.tsx sets --font-inter) */

	/* Type scale */
	--text-xs: 12px;
	--text-sm: 14px;
	--text-base: 15px; /* default */
	--text-md: 16px;
	--text-lg: 18px;
	--text-xl: 20px;
	--text-2xl: 24px;
	--text-3xl: 30px;

	/* Line heights */
	--leading-tight: 1.25;
	--leading-normal: 1.5;
	--leading-relaxed: 1.65;

	/* Brand (Pink) */
	--brand-50: 255 240 247;
	--brand-100: 255 220 236;
	--brand-200: 255 186 216;
	--brand-300: 255 133 189;
	--brand-400: 244 85 161;
	--brand-500: 223 37 129; /* primary */
	--brand-600: 196 28 111;
	--brand-700: 160 22 91;

	/* Neutrals */
	--bg: 246 246 247; /* app background */
	--surface: 255 255 255; /* cards/panels */
	--muted: 249 249 250; /* subtle inputs background */
	--border: 229 231 235;
	--text: 17 24 39;
	--text-2: 55 65 81;
	--text-3: 107 114 128;

	/* Status */
	--success: 22 163 74;
	--success-bg: 220 252 231;
	--warning: 234 179 8;
	--warning-bg: 254 249 195;
	--danger: 220 38 38;
	--danger-bg: 254 226 226;
	--info: 37 99 235;
	--info-bg: 219 234 254;

	/* Radius */
	--radius-sm: 10px;
	--radius-md: 14px;
	--radius-lg: 18px;
	--radius-xl: 22px;
	--radius-pill: 999px;

	/* Shadows */
	--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.06);
	--shadow-md: 0 10px 24px rgba(0, 0, 0, 0.08);
	--shadow-lg: 0 18px 44px rgba(0, 0, 0, 0.1);

	/* Focus ring */
	--ring: rgba(223, 37, 129, 0.35);
}

/* -----------------------------
   Base Layer
------------------------------*/
@layer base {
	html {
		text-rendering: optimizeLegibility;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	@media (prefers-reduced-motion: no-preference) {
		html {
			scroll-behavior: smooth;
		}
	}

	body {
		font-family: var(--font-inter);
		background: rgb(var(--bg));
		color: rgb(var(--text));
		font-size: var(--text-base);
		line-height: var(--leading-relaxed);
		font-weight: 400;
	}

	/* Headings (Inter, product UI style) */
	h1 {
		font-size: var(--text-3xl);
		line-height: var(--leading-tight);
		font-weight: 600;
		letter-spacing: -0.02em;
		color: rgb(var(--text));
	}

	h2 {
		font-size: var(--text-2xl);
		line-height: var(--leading-tight);
		font-weight: 600;
		letter-spacing: -0.015em;
		color: rgb(var(--text));
	}

	h3 {
		font-size: var(--text-xl);
		line-height: var(--leading-tight);
		font-weight: 600;
		color: rgb(var(--text));
	}

	h4 {
		font-size: var(--text-lg);
		line-height: var(--leading-normal);
		font-weight: 600;
		color: rgb(var(--text));
	}

	p {
		font-size: var(--text-base);
		line-height: var(--leading-relaxed);
		color: rgb(var(--text-2));
	}

	small {
		font-size: var(--text-sm);
		line-height: var(--leading-normal);
		color: rgb(var(--text-3));
	}

	label {
		font-size: var(--text-sm);
		font-weight: 500;
		color: rgb(var(--text));
	}

	/* Selection */
	::selection {
		background: rgba(223, 37, 129, 0.18);
	}

	/* Links */
	a {
		color: inherit;
		text-decoration: underline;
		text-decoration-thickness: 1px;
		text-underline-offset: 3px;
	}
	a:hover {
		color: rgb(var(--text));
		text-decoration-thickness: 2px;
	}
	a:focus-visible {
		text-decoration-thickness: 2px;
		outline: 2px solid rgb(var(--brand-500));
		outline-offset: 2px;
	}

	/* Accessible focus defaults */
	:focus-visible {
		outline: none;
		box-shadow: 0 0 0 4px var(--ring);
		border-color: rgb(var(--brand-500));
	}

	/* Better disabled cursor */
	button:disabled,
	[role="button"][aria-disabled="true"] {
		cursor: not-allowed;
		opacity: 0.65;
	}
}

/* -----------------------------
   Component Primitives
------------------------------*/
@layer components {
	/* Layout helpers */
	.app-container {
		@apply mx-auto w-full max-w-6xl px-4 md:px-6;
	}

	.page-title {
		font-size: var(--text-3xl);
		font-weight: 600;
		letter-spacing: -0.02em;
		color: rgb(var(--text));
	}

	.section-title {
		font-size: var(--text-lg);
		font-weight: 600;
		color: rgb(var(--text));
	}

	.muted {
		font-size: var(--text-sm);
		color: rgb(var(--text-3));
	}

	/* Surface / card */
	.surface {
		background: rgb(var(--surface));
		border: 1px solid rgb(var(--border));
		border-radius: var(--radius-xl);
		box-shadow: var(--shadow-sm);
	}

	.card {
		background: rgb(var(--surface));
		border: 1px solid rgb(var(--border));
		border-radius: var(--radius-xl);
		box-shadow: var(--shadow-sm);
		@apply p-5 md:p-6;
	}

	.divider {
		border-top: 1px solid rgb(var(--border));
	}

	/* Form controls */
	.label {
		@apply mb-2 block;
		font-size: var(--text-sm);
		font-weight: 500;
		color: rgb(var(--text));
	}

	.input {
		width: 100%;
		height: 44px;
		padding: 0 14px;
		border-radius: var(--radius-pill);
		border: 1px solid rgb(var(--border));
		background: rgb(var(--muted));
		color: rgb(var(--text));
		font-size: var(--text-sm);
		line-height: var(--leading-normal);
		transition:
			border-color 0.15s ease,
			box-shadow 0.15s ease,
			background 0.15s ease;
	}

	.input::placeholder {
		color: rgb(var(--text-3));
	}

	.input:focus {
		background: rgb(var(--surface));
		border-color: rgb(var(--brand-500));
		box-shadow: 0 0 0 4px var(--ring);
		outline: none;
	}

	.input[disabled] {
		opacity: 0.6;
		cursor: not-allowed;
	}

	/* Buttons */
	.btn,
	.btn-primary,
	.btn-secondary,
	.btn-ghost {
		height: 44px;
		padding: 0 18px;
		border-radius: var(--radius-pill);
		font-weight: 600;
		font-size: var(--text-sm);
		line-height: var(--leading-normal);
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 10px;
		transition:
			transform 0.04s ease,
			background 0.15s ease,
			border-color 0.15s ease,
			box-shadow 0.15s ease,
			color 0.15s ease;
		user-select: none;
		white-space: nowrap;
	}

	.btn:active,
	.btn-primary:active,
	.btn-secondary:active,
	.btn-ghost:active {
		transform: translateY(1px);
	}

	.btn-primary {
		background: rgb(var(--brand-500));
		color: white;
		box-shadow: 0 10px 22px rgba(223, 37, 129, 0.22);
	}

	.btn-primary:hover {
		background: rgb(var(--brand-600));
	}

	.btn-secondary {
		background: rgb(var(--surface));
		border: 1px solid rgb(var(--border));
		color: rgb(var(--text));
	}

	.btn-secondary:hover {
		background: rgb(248 248 249);
	}

	.btn-ghost {
		background: transparent;
		border: 1px solid transparent;
		color: rgb(var(--text));
	}

	.btn-ghost:hover {
		background: rgb(245 245 246);
		border-color: rgb(var(--border));
	}

	/* Badges (status pills) */
	.badge {
		display: inline-flex;
		align-items: center;
		height: 26px;
		padding: 0 10px;
		border-radius: var(--radius-pill);
		font-size: 12px;
		font-weight: 600;
		border: 1px solid transparent;
	}

	.badge-approved {
		color: rgb(var(--success));
		background: rgb(var(--success-bg));
	}

	.badge-pending {
		color: rgb(var(--warning));
		background: rgb(var(--warning-bg));
	}

	.badge-overdue {
		color: rgb(var(--danger));
		background: rgb(var(--danger-bg));
	}

	.badge-role {
		color: rgb(var(--text-2));
		background: rgb(243 244 246);
		border-color: rgb(var(--border));
	}

	/* Tables (projects / approvals list) */
	.table {
		width: 100%;
		border-collapse: separate;
		border-spacing: 0;
		overflow: hidden;
		border-radius: var(--radius-xl);
		border: 1px solid rgb(var(--border));
		background: rgb(var(--surface));
	}

	.table thead th {
		text-align: left;
		padding: 14px 18px;
		background: rgb(250 250 251);
		border-bottom: 1px solid rgb(var(--border));
		font-size: var(--text-sm);
		font-weight: 600;
		color: rgb(var(--text));
	}

	.table tbody td {
		padding: 16px 18px;
		border-bottom: 1px solid rgb(var(--border));
		font-size: var(--text-base);
		color: rgb(var(--text-2));
	}

	.table tbody tr:last-child td {
		border-bottom: none;
	}

	/* Auth pages (Sign In / Sign Up / Invitation) */
	.auth-shell {
		min-height: 100vh;
		display: grid;
		place-items: center;
		padding: 28px 16px;
		background: rgb(var(--bg));
	}

	.auth-card {
		width: 100%;
		max-width: 520px;
		background: rgb(var(--surface));
		border: 1px solid rgb(var(--border));
		border-radius: var(--radius-xl);
		box-shadow: var(--shadow-md);
		padding: 28px 26px;
	}

	.auth-brand {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 10px;
		margin-bottom: 16px;
	}

	.auth-title {
		font-size: var(--text-2xl);
		font-weight: 600;
		letter-spacing: -0.015em;
		color: rgb(var(--text));
		text-align: center;
		line-height: var(--leading-tight);
	}

	.auth-subtitle {
		margin-top: 8px;
		font-size: var(--text-sm);
		color: rgb(var(--text-3));
		text-align: center;
		line-height: var(--leading-normal);
	}

	/* -----------------------------
     Spacing + Layout Primitives
  ------------------------------*/

	/* Vertical stacks (consistent spacing without ad-hoc utilities) */
	.stack-2 > * + * {
		margin-top: 8px;
	}
	.stack-3 > * + * {
		margin-top: 12px;
	}
	.stack-4 > * + * {
		margin-top: 16px;
	}
	.stack-5 > * + * {
		margin-top: 20px;
	}
	.stack-6 > * + * {
		margin-top: 24px;
	}

	/* Inline rows (label + link, checkbox + text, etc.) */
	.row {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 12px;
	}

	.row-start {
		display: flex;
		align-items: center;
		justify-content: flex-start;
		gap: 12px;
	}

	/* Full width helpers */
	/* -----------------------------
     Form State Primitives
  ------------------------------*/

	/* Error / helper text */
	.help-text {
		font-size: var(--text-sm);
		line-height: var(--leading-normal);
		color: rgb(var(--text-3));
	}

	.error-text {
		font-size: var(--text-sm);
		line-height: var(--leading-normal);
		color: rgb(var(--danger));
	}

	/* Invalid input state */
	.input-invalid {
		border-color: rgb(var(--danger));
		box-shadow: 0 0 0 4px rgba(220, 38, 38, 0.18);
		background: rgb(var(--surface));
	}

	.input.input-invalid:focus {
		border-color: rgb(var(--danger));
		box-shadow: 0 0 0 4px rgba(220, 38, 38, 0.18);
		background: rgb(var(--surface));
	}

	/* Links in auth forms (consistent with system) */
	.link {
		font-size: var(--text-sm);
		font-weight: 600;
		color: rgb(var(--brand-600));
		text-decoration: none;
	}

	.link:hover {
		color: rgb(var(--brand-700));
		text-decoration: underline;
		text-underline-offset: 3px;
	}

	.unstyled-link {
		color: inherit;
		text-decoration: none;
	}

	.unstyled-link:hover {
		color: rgb(var(--text));
		text-decoration: none;
	}
}
